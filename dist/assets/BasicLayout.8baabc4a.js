import{d as e,t,c as r,r as o,p as n,i as a,a as l,m as i,n as s,b as c,e as u,s as d,f as p,R as f,o as m,g as h}from"./index.41e52d2b.js";import{P as g,c as b,d as v,f as y,I as O,g as w,h as j,a as x,b as C,t as S}from"./LoadingOutlined.f883e4a5.js";import{i as k}from"./toNumber.1d95560b.js";import{B as P,o as A}from"./vnode.05e2f0c9.js";import{R as H,L as N}from"./LeftOutlined.6168f0ba.js";import{M as z}from"./index.418bce4b.js";import{B as I}from"./index.8c95eddf.js";import"./Trigger.97b71050.js";import"./isEqual.9954d9de.js";import"./colors.50628be1.js";var L={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};function B(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}var F={prefixCls:g.string,hasSider:g.looseBool,tagName:g.string};function W(t){var o=t.suffixCls,n=t.tagName,i=t.name;return function(t){var s=e({name:i,setup:function(e,i){var s=i.slots,c=a("configProvider",v).getPrefixCls;return function(){var a,i,u,d=e.prefixCls,p=q(q({prefixCls:c(o,d)},e),{tagName:n});return r(t,p,"function"==typeof(u=a=y(null===(i=s.default)||void 0===i?void 0:i.call(s)))||"[object Object]"===Object.prototype.toString.call(u)&&!l(u)?a:{default:function(){return[a]}})}}});return s.props=F,s}}var E=e({props:F,setup:function(e,o){var n=o.slots,a=t(e),l=a.prefixCls,i=a.tagName;return function(){var e;return r(i.value,{class:l.value},null===(e=n.default)||void 0===e?void 0:e.call(n))}}}),D=e({props:F,setup:function(e,t){var a=t.slots,l=o([]);return n("siderHook",{addSider:function(e){l.value=[].concat(B(l.value),[e])},removeSider:function(e){l.value=l.value.filter((function(t){return t!==e}))}}),function(){var t,o,n,i,s=e.prefixCls,c=e.hasSider,u=e.tagName,d=b(s,(o={},n="".concat(s,"-has-sider"),i="boolean"==typeof c?c:l.value.length>0,n in o?Object.defineProperty(o,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[n]=i,o));return r(u,{class:d},null===(t=a.default)||void 0===t?void 0:t.call(a))}}}),_=W({suffixCls:"layout",tagName:"section",name:"ALayout"})(D),M=W({suffixCls:"layout-header",tagName:"header",name:"ALayoutHeader"})(E),R=W({suffixCls:"layout-footer",tagName:"footer",name:"ALayoutFooter"})(E),$=W({suffixCls:"layout-content",tagName:"main",name:"ALayoutContent"})(E);function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_.Header=M,_.Footer=R,_.Content=$;var K=function(e,t){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){U(e,t,r[t])}))}return e}({},e,t.attrs);return r(O,i(o,{icon:L}),null)};function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}K.displayName="BarsOutlined",K.inheritAttrs=!1;var Q,X={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},Z={prefixCls:g.string,collapsible:g.looseBool,collapsed:g.looseBool,defaultCollapsed:g.looseBool,reverseArrow:g.looseBool,zeroWidthTriggerStyle:g.style,trigger:g.VNodeChild,width:g.oneOfType([g.number,g.string]),collapsedWidth:g.oneOfType([g.number,g.string]),breakpoint:g.oneOf(S("xs","sm","md","lg","xl","xxl")),theme:g.oneOf(S("light","dark")).def("dark"),onBreakpoint:Function,onCollapse:Function},ee=(Q=0,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Q+=1,"".concat(e).concat(Q)}),te=e({name:"ALayoutSider",mixins:[P],inheritAttrs:!1,__ANT_LAYOUT_SIDER:!0,props:k(Z,{collapsible:!1,defaultCollapsed:!1,reverseArrow:!1,width:200,collapsedWidth:80}),emits:["breakpoint","update:collapsed","collapse"],setup:function(){return{siderHook:a("siderHook",{}),configProvider:a("configProvider",v)}},data:function(){var e,t=ee("ant-sider-");"undefined"!=typeof window&&(e=window.matchMedia);var r,o=w(this);return e&&o.breakpoint&&o.breakpoint in X&&(r=e("(max-width: ".concat(X[o.breakpoint],")"))),{sCollapsed:"collapsed"in o?o.collapsed:o.defaultCollapsed,below:!1,belowShow:!1,uniqueId:t,mql:r}},watch:{collapsed:function(e){this.setState({sCollapsed:e})}},created:function(){n("layoutSiderContext",this)},mounted:function(){var e=this;s((function(){e.mql&&(e.mql.addListener(e.responsiveHandler),e.responsiveHandler(e.mql)),e.siderHook.addSider&&e.siderHook.addSider(e.uniqueId)}))},beforeUnmount:function(){this.mql&&this.mql.removeListener(this.responsiveHandler),this.siderHook.removeSider&&this.siderHook.removeSider(this.uniqueId)},methods:{responsiveHandler:function(e){this.setState({below:e.matches}),this.$emit("breakpoint",e.matches),this.sCollapsed!==e.matches&&this.setCollapsed(e.matches,"responsive")},setCollapsed:function(e,t){j(this,"collapsed")||this.setState({sCollapsed:e}),this.$emit("update:collapsed",e),this.$emit("collapse",e,t)},toggle:function(){var e=!this.sCollapsed;this.setCollapsed(e,"clickTrigger")},belowShowChange:function(){this.setState({belowShow:!this.belowShow})}},render:function(){var e,t,o=J(J({},w(this)),this.$attrs),n=o.prefixCls,a=o.class,l=o.theme,i=o.collapsible,s=o.reverseArrow,c=o.style,u=o.width,d=o.collapsedWidth,p=o.zeroWidthTriggerStyle,f=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r}(o,["prefixCls","class","theme","collapsible","reverseArrow","style","width","collapsedWidth","zeroWidthTriggerStyle"]),m=(0,this.configProvider.getPrefixCls)("layout-sider",n),h=A(f,["collapsed","defaultCollapsed","onCollapse","breakpoint","onBreakpoint","siderHook","zeroWidthTriggerStyle","trigger"]),g=x(this,"trigger"),v=this.sCollapsed?d:u,y=(t=v,!isNaN(parseFloat(t))&&isFinite(t)?"".concat(v,"px"):String(v)),O=0===parseFloat(String(d||0))?r("span",{onClick:this.toggle,class:"".concat(m,"-zero-width-trigger ").concat(m,"-zero-width-trigger-").concat(s?"right":"left"),style:p},[r(K,null,null)]):null,j={expanded:r(s?H:N,null,null),collapsed:r(s?N:H,null,null)}[this.sCollapsed?"collapsed":"expanded"],S=null!==g?O||r("div",{class:"".concat(m,"-trigger"),onClick:this.toggle,style:{width:y}},[g||j]):null,k=J(J({},c),{flex:"0 0 ".concat(y),maxWidth:y,minWidth:y,width:y}),P=b(a,m,"".concat(m,"-").concat(l),(G(e={},"".concat(m,"-collapsed"),!!this.sCollapsed),G(e,"".concat(m,"-has-trigger"),i&&null!==g&&!O),G(e,"".concat(m,"-below"),!!this.below),G(e,"".concat(m,"-zero-width"),0===parseFloat(y)),e));return r("aside",Y(Y({class:P},h),{},{style:k}),[r("div",{class:"".concat(m,"-children")},[C(this)]),i||this.below&&O?S:null])}});_.Sider=te,_.install=function(e){return e.component(_.name,_),e.component(_.Header.name,_.Header),e.component(_.Footer.name,_.Footer),e.component(_.Sider.name,_.Sider),e.component(_.Content.name,_.Content),e};var re="_header_14y6i_1";function oe(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!l(e)}const ne=(e,t="/")=>e.map((e=>{const{children:o,meta:n={}}=e;if(!n.hide){if(o){let a;return console.log(t),r(z.SubMenu,{title:n.title},oe(a=ne(o,t+e.path+"/"))?a:{default:()=>[a]})}return r(z.Item,{key:e.name},{default:()=>[r(f,{to:t+e.path},{default:()=>[n.title]})]})}}));var ae=e({setup:()=>(c({openKeys:[]}),()=>{let e;return r(_.Sider,{trigger:null},{default:()=>[r("div",{class:re},[r("img",{src:"/assets/logo.03d6d6da.png"},null),u("Vite + AntD")]),r(z,{theme:"dark",mode:"inline",selectedKeys:d.state.siderKey},oe(e=ne(p[0].children||[]))?e:{default:()=>[e]})]})})});const le=async(e,t,r)=>{await d.dispatch("getUserInfo")?r():r("/login")};var ie=e({beforeRouteEnter:le,setup:()=>(m(le),console.log("base layout mount"),()=>r(_,null,{default:()=>[r(ae,null,null),r(_,null,{default:()=>[r(_.Header,null,{default:()=>[r("span",{class:"username"},[d.state.userInfo?d.state.userInfo.username:"未登录"]),r(I,{size:"small",style:{borderRadius:"4px",marginLeft:"10px"},onClick:()=>{d.dispatch("logout")}},{default:()=>[u("退出")]})]}),r("div",{id:"app-main-window"},[r(h,null,null)])]})]}))});export default ie;
